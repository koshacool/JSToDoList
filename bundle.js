!function(t){var n={};function c(s){if(n[s])return n[s].exports;var l=n[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,c),l.l=!0,l.exports}c.m=t,c.c=n,c.d=function(t,n,s){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var l in t)c.d(s,l,function(n){return t[n]}.bind(null,l));return s},c.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="",c(c.s=1)}([function(module,exports){eval('var serviceWorkerOption = {"scriptURL":"/sw.js"};\n      "use strict";\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n/* eslint-disable flowtype/require-valid-file-annotation */\n/* global serviceWorkerOption */\n\nexports.default = {\n  register: function register() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (navigator.serviceWorker) {\n      return navigator.serviceWorker.register(serviceWorkerOption.scriptURL, options);\n    }\n\n    return false;\n  }\n};\nmodule.exports = exports["default"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXJ2aWNld29ya2VyLXdlYnBhY2stcGx1Z2luL2xpYi9ydW50aW1lLmpzPzlmOTUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHNlcnZpY2VXb3JrZXJPcHRpb24gPSB7XCJzY3JpcHRVUkxcIjpcIi9zdy5qc1wifTtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyogZXNsaW50LWRpc2FibGUgZmxvd3R5cGUvcmVxdWlyZS12YWxpZC1maWxlLWFubm90YXRpb24gKi9cbi8qIGdsb2JhbCBzZXJ2aWNlV29ya2VyT3B0aW9uICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIGlmIChuYXZpZ2F0b3Iuc2VydmljZVdvcmtlcikge1xuICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJPcHRpb24uc2NyaXB0VVJMLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},function(t,n,c){t.exports=c(6)},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hbGVydC9zdHlsZS5zY3NzPzA3ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tb2RhbC9zdHlsZXMuc2Nzcz80ODcxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy90YXNrTGlzdC9zdHlsZXMuc2Nzcz84MmZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguc2Nzcz9iYjY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/localStorage/localStorageService.js\nconst TASKS_DB_NAME = 'localstorageTasks';\n\nclass LocalStorageService {\n  constructor () {\n    const tasks = JSON.parse(localStorage.getItem(TASKS_DB_NAME));\n\n    if (!tasks) {\n      localStorage.setItem(TASKS_DB_NAME, JSON.stringify([]));\n    }\n  }\n\n  get () {\n    return JSON.parse(localStorage.getItem(TASKS_DB_NAME));\n  }\n\n  set (data) {\n    return localStorage.setItem(TASKS_DB_NAME, JSON.stringify(data));\n  }\n\n  clear () {\n    localStorage.setItem(TASKS_DB_NAME, JSON.stringify([]));\n  }\n}\n\nconst storageService = new LocalStorageService();\n\n/* harmony default export */ var localStorageService = (storageService);\n\n// CONCATENATED MODULE: ./src/task/constants.js\nconst taskTypes = {\n  learning: 'learning',\n  shopping: 'shopping',\n  traveling: 'traveling',\n  sport: 'sport',\n};\n\nconst taskStatuses = {\n  opened: 'opened',\n  completed: 'completed',\n};\n\nconst saveAction = {\n  update: 'update',\n  create: 'create',\n};\n\nconst taskSchema = {\n  id: {\n    type: 'string',\n  },\n\n  title: {\n    type: 'string',\n    isRequired: true,\n  },\n\n  type: {\n    type: 'string',\n    isRequired: true,\n  },\n\n  description: {\n    type: 'string',\n    isRequired: true,\n  },\n\n  status: {\n    type: 'string',\n  },\n};\n\n// CONCATENATED MODULE: ./src/utils.js\n\n\nconst generateId = () => Math.random().toString(36).substr(2, 9);\n\nconst capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\n\nconst countActiveTasks = tasks => tasks.reduce(\n  (prev, { status }) => status !== 'completed' ? prev + 1 : prev, 0);\n\nconst debounce = (func, delay = 300) => {\n  let timerId;\n\n  return data => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n\n    timerId = setTimeout(() => func(data), delay);\n  };\n};\n\nconst compareTasks = (a, b) => {\n  if (a.updatedAt < b.updatedAt) {\n    return 1;\n  }\n\n  if (a.updatedAt === b.updatedAt) {\n    return 0;\n  }\n\n  return -1;\n};\n\nconst sortTasks = tasksArr => {\n  const openedTasks = [];\n  const complitedTasks = [];\n\n  tasksArr.forEach(task => {\n    if (task.status === taskStatuses.completed) {\n      complitedTasks.push(task);\n    } else {\n      openedTasks.push(task);\n    }\n  });\n\n  return  [...openedTasks.sort(compareTasks), ...complitedTasks.sort(compareTasks)];\n};\n\n\n\n// CONCATENATED MODULE: ./src/task/task.js\n\n\n\n\nclass task_Task {\n  constructor ({ id, title, type, description, status = taskStatuses.opened }) {\n    this.taskObj = {\n      id: id || generateId(),\n      title,\n      type,\n      description,\n      status,\n    };\n\n    this.saveAction = id ? saveAction.update : saveAction.create;\n  }\n\n  save () {\n    const tasks = localStorageService.get();\n    const validationResult = this.validate();\n    const task = { ...this.taskObj, updatedAt: new Date() };\n\n    return new Promise((resolve, reject) => {\n      if (validationResult.error)  {\n        return reject(validationResult);\n      } else {\n        if (this.saveAction === saveAction.create) {\n          tasks.push(task);\n        } else {\n          const taskIndex = tasks.findIndex(({ id }) => id === task.id);\n          tasks[taskIndex] = task;\n        }\n\n        localStorageService.set(tasks);\n        resolve({ task });\n      }      \n    });\n  }\n\n  static remove (taskId) {\n    return new Promise((resolve, reject) => {\n      try {    \n        const tasks = localStorageService.get();\n        const newTasks = tasks.filter(({ id }) => id !== taskId); \n          \n        localStorageService.set(newTasks);\n        resolve(newTasks);\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  static removeAll () {\n    return new Promise((resolve, reject) => {\n      try {        \n        localStorageService.clear();\n        resolve([]);\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n\n\n  static finishAll () {    \n    const tasks = localStorageService.get();\n    const savePromises = tasks.map(task => {\n      const newTask = new task_Task({\n        ...task,\n        status: taskStatuses.completed,\n      });\n\n      return newTask.save();            \n    });\n\n    return Promise.all(savePromises);\n  }\n\n\n  static validateField (name, value) {\n    if (\n      (taskSchema[name].isRequired && !value.trim())\n      || typeof value !== taskSchema[name].type\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  validate () {\n    const validationResult = {\n      notValidFields: {},\n    };\n\n    Object.keys(taskSchema).forEach(fieldName => {\n      const isValid = task_Task.validateField(fieldName, this.taskObj[fieldName]);\n\n      validationResult.notValidFields[fieldName] = isValid;\n\n      if (!isValid) {\n        validationResult.error = true;\n        validationResult.message = 'Not valid field';\n      }\n    });\n\n    return validationResult;\n  }\n}\n\n/* harmony default export */ var task_task = (task_Task);\n\n// CONCATENATED MODULE: ./src/alert/constants.js\nconst alertTypes = {\n  error: 'error',\n  success: 'success',\n};\n\nconst alertClasses = {\n  [alertTypes.error]: 'error-message',\n  [alertTypes.success]: 'success-message',\n};\n\nconst defaultShowingDuration = 2000;\n// EXTERNAL MODULE: ./src/alert/style.scss\nvar style = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/alert/alert.js\n\n\n\n\n\nclass alert_Alert {\n  constructor () {\n    this.init();\n\n    this.showError = this.showError.bind(this);\n    this.hideMessage = this.hideMessage.bind(this);\n    this.createMessageElement = this.createMessageElement.bind(this);\n  }\n\n  init () {\n    const $mountPoint = document.getElementById('app');\n    const $alertBlock = document.createElement('div');\n\n    $alertBlock.className = 'alert-container';\n    $alertBlock.id = 'alert-container';\n\n    $mountPoint.appendChild($alertBlock);\n\n    this.$mainBlock = document.getElementById('alert-container');\n  }\n\n  showError ({ message }, duration = defaultShowingDuration) {\n    const $element = this.createMessageElement(alertTypes.error, message);\n    this.$mainBlock.appendChild($element);\n\n\n    setTimeout(this.hideMessage($element), duration);\n  }\n\n  showSuccess (message, duration = defaultShowingDuration) {\n    const $element = this.createMessageElement(alertTypes.success, message);\n    this.$mainBlock.appendChild($element);\n\n    setTimeout(this.hideMessage($element), duration);\n  }\n\n  hideMessage ($element) {\n    return () => this.$mainBlock.removeChild($element);\n  }\n\n  createMessageElement (type, message) {\n    const $messageBlock = document.createElement('div');\n\n    $messageBlock.className = `${alertClasses[type]} alert-container__message`;\n    $messageBlock.innerHTML = message;\n\n    return $messageBlock;\n  }\n}\n\nconst alertService = new alert_Alert();\n\n/* harmony default export */ var alert_alert = (alertService);\n// EXTERNAL MODULE: ./src/modal/styles.scss\nvar styles = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/modal/modal.js\n\n\n\n\n\n\n\nconst ERROR_CLASS_NAME = 'validation-error';\n\nclass modal_FormModal {\n  constructor () {\n    this.$rootComponent = null;\n\n    this.initModal = this.initModal.bind(this);\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n    this.saveForm = this.saveForm.bind(this);\n    this.createTaskForm = this.createTaskForm.bind(this);\n    this.onInputKeyUp = this.onInputKeyUp.bind(this);\n\n    this.initModal();\n    this.initEventListeners();\n  }\n\n  initModal () {\n    const $mainBlock = document.getElementById('app');\n    const $modal = document.createElement('div');\n\n    $modal.className = 'modal';\n    $modal.id = 'form-modal';\n    $modal.innerHTML = `\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <span id=\"modal-close\" class=\"close\">&times;</span>\n          <h2 id=\"modal-title\" class=\"modal-title\">Modal title</h2>\n        </div>\n        <div id=\"modal-body\" class=\"modal-body\"></div>\n        <div class=\"modal-footer\">\n          <button id=\"form-modal-save\" class=\"button\">Save</button>\n        </div>\n      </div>\n  `;\n\n    $mainBlock.appendChild($modal);\n\n    this.$rootComponent = document.getElementById('form-modal');\n  }\n\n  initEventListeners () {\n    const $closeButton = document.getElementById('modal-close');\n    const $saveButton = document.getElementById('form-modal-save');\n\n    $closeButton.addEventListener('click', this.close);\n    $saveButton.addEventListener('click', this.saveForm);\n  }\n\n  createTaskForm (task = {}) {\n    const { id = '', title = '', description = '', status = '' } = task;\n    const $modalBody = document.getElementById('modal-body');\n    const $typesBlock = this.createTypesSelect(task);\n\n    const $formBlock = document.createElement('form');\n    $formBlock.className = 'task-form';\n    $formBlock.id = 'task-form';\n    $formBlock.innerHTML = `\n      <div class=\"form-group\">\n        <label for=\"title\">Title</label>\n        <input type=\"text\" class=\"form-input\" id=\"title\" \n          name=\"title\" placeholder=\"Enter title\" value=${title}>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"description\">Description</label>\n        <textarea rows=\"4\" cols=\"100\" name=\"description\" form=\"task-form\" \n          name=\"description\" id=\"description\">\n          ${description}\n        </textarea>\n      </div>\n    `;\n    $formBlock.appendChild($typesBlock);\n\n    if (id) {\n      const $idInput = document.createElement('input');\n\n      $idInput.type = 'hidden';\n      $idInput.className = 'task-id';\n      $idInput.setAttribute('value', id);\n      $idInput.setAttribute('name', 'id');\n\n      $formBlock.appendChild($idInput);\n    }\n\n    if (status) {\n      const $statusInput = document.createElement('input');\n\n      $statusInput.type = 'hidden';\n      $statusInput.className = 'task-status';\n      $statusInput.setAttribute('value', status);\n      $statusInput.setAttribute('name', 'status');\n\n      $formBlock.appendChild($statusInput);\n    }\n\n    if ($modalBody.hasChildNodes()) {\n      $modalBody.firstChild.replaceWith($formBlock);\n    } else {\n      $modalBody.appendChild($formBlock);\n    }\n\n    const formInputs = document.getElementById('task-form').elements;\n\n    for (let i = 0; i < formInputs.length; i++) {\n      formInputs[i].addEventListener('keyup', this.onInputKeyUp);\n    }\n  }\n\n  createTypesSelect ({ type = '' }) {\n    const $typesBlock = document.createElement('div');\n    $typesBlock.className = 'form-group';\n    $typesBlock.innerHTML = `\n      <label for=\"type\">Task Type</label>\n    `;\n\n    const $select = document.createElement('select');\n    $select.className = 'form-control';\n    $select.setAttribute('name', 'type');\n\n    Object.values(taskTypes).forEach(taskType => {\n      const $option = document.createElement('option');\n      $option.setAttribute('value', taskType);\n\n      if (taskType === type) {\n        $option.setAttribute('selected', 'selected');\n      }\n\n      $option.innerHTML = taskType;\n      $select.appendChild($option);\n    });\n\n    $typesBlock.appendChild($select);\n\n    return $typesBlock;\n  }\n\n  open (callback,  data = {}) {\n    this.callback = callback;\n    const $modalTitle = document.getElementById('modal-title');\n\n    if (data.id) {\n      $modalTitle.innerHTML = 'Edit Task';\n    } else {\n      $modalTitle.innerHTML = 'Create Task';\n    }\n\n    this.createTaskForm(data);\n\n    this.$rootComponent.style.display = 'block';\n  }\n\n  close () {\n    this.callback = null;\n    this.$rootComponent.style.display = 'none';\n  }\n\n  saveForm () {\n    const taskData = {};\n    const formInputs = document.getElementById('task-form').elements;\n\n    for (let i = 0; i < formInputs.length; i++) {\n      const { name, value } = formInputs[i];\n      taskData[name] = value;\n    }\n\n    const task = new task_task(taskData);\n    task.save()\n      .then(({ task }) => {\n        this.callback && this.callback(task);\n        this.close();\n      })\n      .catch(error => {\n        const { notValidFields } = error;\n\n        for (let i = 0; i < formInputs.length; i++) {\n          const { name } = formInputs[i];\n\n          this.highlightInput(formInputs[i], notValidFields[name]);\n\n        }\n\n        alert_alert.showError(error);\n      });\n  }\n\n  onInputKeyUp ({ target }) {\n    const { name, value } = target;\n    const isValid = task_task.validateField(name, value);\n\n    this.highlightInput(target, isValid);\n  }\n\n  highlightInput ($input, isValid) {\n    if (!isValid) {\n      $input.classList.add(ERROR_CLASS_NAME);\n    } else {\n      $input.classList.remove(ERROR_CLASS_NAME);\n    }\n  }\n}\n\nconst modalController = new modal_FormModal();\n\n/* harmony default export */ var modal = (modalController);\n\n// CONCATENATED MODULE: ./src/taskList/constants.js\n\n\nconst mainActionsBlockId = 'main-page__actions';\n\nconst countBlockId = 'tasks-count';\n\nconst listBlockId = 'tasks-list';\n\nconst addButtonClass = 'add-task';\nconst finishAllButtonClass = 'finish-all-tasks';\nconst removeAllButtonClass = 'remove-all-tasks';\n\n// Filters buttons\nconst taskTypeSelectId = 'filters__task-type';\nconst inputFilterId = 'filters__search';\nconst filterButtonsBlockId = 'filters__buttons';\nconst filterButtonsClasses = {\n  ...taskStatuses,\n  all: 'all',\n};\n\n// EXTERNAL MODULE: ./src/taskList/styles.scss\nvar taskList_styles = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/taskList/taskList.js\n\n\n\n\n\n\n\n\n\nclass taskList_TaskList {\n  constructor (tasks) {\n    this.tasks = tasks;\n\n    this.filtersState = {\n      status: filterButtonsClasses.all,\n      type: 'all',\n      text: '',\n    };\n\n    this.initCommonStructure();\n\n    this.$mainActionsBlock = document.getElementById(mainActionsBlockId);\n    this.$taskTypeSelect = document.getElementById(taskTypeSelectId);\n    this.$inputFilter = document.getElementById(inputFilterId);\n    this.$filterButtonsBlock = document.getElementById(filterButtonsBlockId);\n    this.$listBlock = document.getElementById(listBlockId);\n    this.$taskCount = document.getElementById(countBlockId);\n\n    this.onClickFilterButtons = this.onClickFilterButtons.bind(this);\n    this.onChangeType = this.onChangeType.bind(this);\n    this.onInput = this.onInput.bind(this);\n    this.renderTasks = this.renderTasks.bind(this);\n    this.onTaskChange = this.onTaskChange.bind(this);\n    this.onCreateTask = this.onCreateTask.bind(this);\n\n    this.onEditTask = this.onEditTask.bind(this);\n    this.onClickMainActions = this.onClickMainActions.bind(this);\n    this.onClickFilterButtons = this.onClickFilterButtons.bind(this);\n\n    this.renderTasks();\n    this.initEventListeners();\n  }\n\n  initCommonStructure () {\n    const { status } = this.filtersState;\n    const $mainBlock = document.getElementById('app');\n    const $taskList = document.createElement('div');\n\n    $taskList.className = 'task-list-container';\n    $taskList.id = 'task-list-container';\n    $taskList.innerHTML = `\n      <div id=${mainActionsBlockId} class=${mainActionsBlockId}>\n\t\t<button class=\"button ${addButtonClass}\">Add</button>\n\t\t<button class=\"button ${finishAllButtonClass}\">Finish all</button>\n\t\t<button class=\"button ${removeAllButtonClass}\">Remove all</button>\n\t</div>\n\n\t<div class=\"filters\">\n\t\t<div class=\"filters__types\">\n\t\t\t<select class=\"task-types\" id=${taskTypeSelectId} name=\"type\">\n          <option value=\"all\">\n            all\n          </option>\n          <option value=\"learning\">\n          \tlearning\n          </option>\n          <option value=\"shopping\">\n            shopping\n          </option>\n          <option value=\"traveling\">\n            traveling\n          </option>\n          <option value=\"sport\">\n            sport\n          </option>\n        </select>\n        \t<span id=\"tasks-count\" class=\"tasks-count\">${this.tasks.length} Tasks left</span>\n\t\t</div>\n\n\t\t<div id=${filterButtonsBlockId} class=${filterButtonsBlockId}>\n\t\t\t<button class=\"button ${filterButtonsClasses.all} \n          ${status === filterButtonsClasses.all ? 'active' : ''}\"\n      >All</button>\n\t\t\t<button class=\"button ${filterButtonsClasses.opened} \n          ${status === filterButtonsClasses.opened ? 'active' : ''}\"\n      >Opened</button>\n\t\t\t<button class=\"button ${filterButtonsClasses.completed} \n        ${status === filterButtonsClasses.completed ? 'active' : ''}\"\n      >Completed</button>\n\t\t</div>\n\t</div>\n\n\t<input class=\"search\" placeholder=\"search\" id=${inputFilterId}>\n\n\t<div class=${listBlockId} id=${listBlockId}>\n\t\n  </div>\n  `;\n\n    $mainBlock.appendChild($taskList);\n  }\n\n  initEventListeners () {\n    this.$mainActionsBlock.addEventListener('click', this.onClickMainActions);\n    this.$filterButtonsBlock.addEventListener(\n      'click',\n      this.onClickFilterButtons,\n    );\n    this.$taskTypeSelect.addEventListener('change', this.onChangeType);\n    this.$inputFilter.addEventListener('keyup', debounce(this.onInput));\n    this.$listBlock.addEventListener('click', this.onTaskChange);\n  }\n\n  createTaskElement ({ id, title, description, status }) {\n    const $taskItem = document.createElement('div');\n    $taskItem.classList.add('task-item', status);\n    $taskItem.id = id;\n\n    const $checkboxBlock = document.createElement('label');\n    $checkboxBlock.className = 'checkbox-container';\n    const $checkbox = document.createElement('input');\n    $checkbox.setAttribute('type', 'checkbox');\n    status === filterButtonsClasses.completed &&\n    $checkbox.setAttribute('checked', true);\n    const $span = document.createElement('span');\n    $span.className = 'checkmark';\n    $checkboxBlock.appendChild($checkbox);\n    $checkboxBlock.appendChild($span);\n\n    const $textBlock = document.createElement('div');\n    $textBlock.classList.add('task-text');\n    $textBlock.innerHTML = `\n        <div class=\"task-text__title\">${capitalize(title)}</div>\n        <div class=\"task-text__description\">${capitalize(description)}</div>  \n      `;\n\n    const $actionsBlock = document.createElement('div');\n    $actionsBlock.className = 'task-actions';\n    $actionsBlock.innerHTML = `\n        <i class=\"fa fa-pencil task-actions__button task-actions__edit\"></i>\n        <i class=\"fa fa-trash task-actions__button task-actions__remove\"></i> \n      `;\n\n    $taskItem.appendChild($checkboxBlock);\n    $taskItem.appendChild($textBlock);\n    $taskItem.appendChild($actionsBlock);\n\n    return $taskItem;\n  }\n\n  onClickMainActions ({ target }) {\n    const isButton = target.classList.contains('button');\n\n    if (isButton) {\n      if (target.classList.contains(addButtonClass)) {\n        modal.open(this.onCreateTask);\n      }\n\n      if (target.classList.contains(finishAllButtonClass)) {\n        task_task.finishAll()\n          .then(data => data.map(({ task }) => task))\n          .then(tasks => {\n            this.tasks = tasks;\n            this.$listBlock.innerHTML = '';\n            this.renderTasks();\n\n            alert_alert.showSuccess('All tasks succefully complited.');\n          });\n      }\n\n      if (target.classList.contains(removeAllButtonClass)) {\n        task_task.removeAll()\n          .then(res => {\n            this.tasks = res;\n            this.$listBlock.innerHTML = '';\n            this.renderTasks();\n\n            alert_alert.showSuccess('All tasks succefully removed.');\n          })\n          .catch(alert_alert.showError);\n\n      }\n    }\n  }\n\n  onCreateTask (task) {\n    this.$listBlock.innerHTML = '';\n    this.tasks.push(task);\n    this.renderTasks();\n\n    alert_alert.showSuccess('Task succefully created.');\n  }\n\n  onEditTask ($task, taskIndex) {\n    return updatedTask => {\n      const $newTask = this.createTaskElement(updatedTask);\n\n      this.tasks[taskIndex] = updatedTask;\n      this.$listBlock.replaceChild($newTask, $task);\n\n      alert_alert.showSuccess('Task succefully updated.');\n    };\n  }\n\n  onClickFilterButtons ({ target }) {\n    const rerenderTasks = filterValue => {\n      this.filtersState.status = filterValue;\n      this.$listBlock.innerHTML = '';\n      this.renderTasks();\n    };\n    const isButton = target.classList.contains('button');\n    const isClickedActiveFilter = target.classList.contains(\n      this.filtersState.button);\n\n    if (isButton && !isClickedActiveFilter) {\n      const $prevActiveFilter = [].find.call(\n        target.parentElement.children,\n        elem => elem.classList.contains('active'),\n      );\n      const filterValue = Object.keys(filterButtonsClasses).\n        find(value => target.classList.contains(value));\n\n      $prevActiveFilter.classList.remove('active');\n      target.classList.add('active');\n\n      filterValue && rerenderTasks(filterValue);\n    }\n  }\n\n  onChangeType ({ target: { value } }) {\n    this.filtersState.type = value;\n    this.$listBlock.innerHTML = '';\n    this.renderTasks();\n  }\n\n  updateFilters (name, value) {\n    this.filtersState[name] = value;\n    this.$listBlock.innerHTML = '';\n    this.renderTasks();\n  }\n\n  onInput ({ target }) {\n    const value = target.value.trim();\n    this.updateFilters('text', value);\n  }\n\n  onTaskChange ({ target }) {\n    const { tasks } = this;\n    const $task = target.parentElement.parentElement;\n    const taskId = $task.id;\n    const taskIndex = tasks.findIndex(({ id }) => id === taskId);\n    const taskActions = {\n      remove: {\n        isCurrent: target.classList.contains('task-actions__remove'),\n        run: () => {\n          task_task.remove(taskId)\n            .then(newTasks => {\n              this.tasks = newTasks;\n              this.$taskCount.innerHTML = `<b>${countActiveTasks(\n                this.tasks)}</b> Tasks left`;\n\n              if (newTasks.length) {\n                this.$listBlock.removeChild($task);\n              } else {\n                const text = `You haven't any ${status === 'all' ? '' : status} tasks.`;\n                this.$listBlock.innerHTML = `<h2 class=\"no-tasks\">${text}</h2>`;\n              }\n\n              alert_alert.showSuccess('Task succefully removed.');\n            })\n            .catch(alert_alert.showError);\n        },\n      },\n      edit: {\n        isCurrent: target.classList.contains('task-actions__edit'),\n        run: () => modal.open(this.onEditTask($task, taskIndex),\n          tasks[taskIndex]),\n      },\n      changeStatus: {\n        isCurrent: target.type === 'checkbox',\n        run: () => {\n          const isChecked = target.checked;\n          const taskObj = this.tasks[taskIndex];\n          const status = isChecked ? taskStatuses.completed : taskStatuses.opened;\n          const task = new task_task({ ...taskObj, status });\n\n          task.save()\n            .then(({ task }) => {\n              if (isChecked) {\n                $task.classList.add(taskStatuses.completed);\n                $task.classList.remove(taskStatuses.opened);\n              } else {\n                $task.classList.remove(taskStatuses.completed);\n                $task.classList.add(taskStatuses.opened);\n              }\n\n              this.tasks[taskIndex] = task;\n              this.$listBlock.innerHTML = '';\n              this.renderTasks();\n\n              alert_alert.showSuccess('Task succefully updated.');\n            })\n            .catch(alert_alert.showError);\n        },\n      },\n    };\n\n    const action = Object.values(taskActions).find(({ isCurrent }) => isCurrent);\n\n    if (action) {\n      action.run();\n    }\n  }\n\n  renderTasks () {\n    const { status, type, text } = this.filtersState;\n    const filteredTasks = this.tasks\n      .filter(task => {\n        // Find tasks which satisfy the filter params\n        if (\n          (status !== 'all' && task.status !== status)\n          || (type !== 'all' && task.type !== type)\n          || (text && task.title.toLowerCase().indexOf(text.toLowerCase()) === -1\n            && task.description.toLowerCase().indexOf(text.toLowerCase()) === -1)\n        ) {\n          return false;\n        }\n\n        return true;\n      });\n    const tasks = sortTasks(filteredTasks);\n\n    this.$taskCount.innerHTML = `<b>${countActiveTasks(\n      this.tasks)}</b> Tasks left`;\n\n    if (tasks.length) {\n      tasks.forEach(taskObj => {\n        const $taskItem = this.createTaskElement(taskObj);\n        this.$listBlock.appendChild($taskItem);\n      });\n    } else {\n      const text = `You haven't any ${status === 'all' ? '' : status} tasks.`;\n      this.$listBlock.innerHTML = `<h2 class=\"no-tasks\">${text}</h2>`;\n    }\n  }\n}\n\n/* harmony default export */ var taskList = (taskList_TaskList);\n\n// EXTERNAL MODULE: ./node_modules/serviceworker-webpack-plugin/lib/runtime.js\nvar runtime = __webpack_require__(0);\nvar runtime_default = /*#__PURE__*/__webpack_require__.n(runtime);\n\n// CONCATENATED MODULE: ./src/serviceWorker/registerServiceWorker.js\n\n\nconst registerServiceWorker = () => {\n  if ('serviceWorker' in navigator) {\n    runtime_default.a.register();\n  }\n};\n\n// EXTERNAL MODULE: ./src/styles/index.scss\nvar src_styles = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\nregisterServiceWorker();\ndocument.addEventListener('DOMContentLoaded', () => {\n  const tasks = localStorageService.get();\n\n  new taskList(tasks);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9sb2NhbFN0b3JhZ2UvbG9jYWxTdG9yYWdlU2VydmljZS5qcz9lNjJjIiwid2VicGFjazovLy8uL3NyYy90YXNrL2NvbnN0YW50cy5qcz8wZTgyIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcz8wMjVlIiwid2VicGFjazovLy8uL3NyYy90YXNrL3Rhc2suanM/ZThiNyIsIndlYnBhY2s6Ly8vLi9zcmMvYWxlcnQvY29uc3RhbnRzLmpzPzM1ZjQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FsZXJ0L2FsZXJ0LmpzP2I1MzYiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGFsL21vZGFsLmpzPzE1NDQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rhc2tMaXN0L2NvbnN0YW50cy5qcz9jYmFjIiwid2VicGFjazovLy8uL3NyYy90YXNrTGlzdC90YXNrTGlzdC5qcz82NDZhIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlV29ya2VyL3JlZ2lzdGVyU2VydmljZVdvcmtlci5qcz9jNDI1Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFRBU0tTX0RCX05BTUUgPSAnbG9jYWxzdG9yYWdlVGFza3MnO1xuXG5jbGFzcyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIGNvbnN0IHRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUQVNLU19EQl9OQU1FKSk7XG5cbiAgICBpZiAoIXRhc2tzKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUQVNLU19EQl9OQU1FLCBKU09OLnN0cmluZ2lmeShbXSkpO1xuICAgIH1cbiAgfVxuXG4gIGdldCAoKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oVEFTS1NfREJfTkFNRSkpO1xuICB9XG5cbiAgc2V0IChkYXRhKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRBU0tTX0RCX05BTUUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfVxuXG4gIGNsZWFyICgpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUQVNLU19EQl9OQU1FLCBKU09OLnN0cmluZ2lmeShbXSkpO1xuICB9XG59XG5cbmNvbnN0IHN0b3JhZ2VTZXJ2aWNlID0gbmV3IExvY2FsU3RvcmFnZVNlcnZpY2UoKTtcblxuZXhwb3J0IGRlZmF1bHQgc3RvcmFnZVNlcnZpY2U7XG4iLCJleHBvcnQgY29uc3QgdGFza1R5cGVzID0ge1xuICBsZWFybmluZzogJ2xlYXJuaW5nJyxcbiAgc2hvcHBpbmc6ICdzaG9wcGluZycsXG4gIHRyYXZlbGluZzogJ3RyYXZlbGluZycsXG4gIHNwb3J0OiAnc3BvcnQnLFxufTtcblxuZXhwb3J0IGNvbnN0IHRhc2tTdGF0dXNlcyA9IHtcbiAgb3BlbmVkOiAnb3BlbmVkJyxcbiAgY29tcGxldGVkOiAnY29tcGxldGVkJyxcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlQWN0aW9uID0ge1xuICB1cGRhdGU6ICd1cGRhdGUnLFxuICBjcmVhdGU6ICdjcmVhdGUnLFxufTtcblxuZXhwb3J0IGNvbnN0IHRhc2tTY2hlbWEgPSB7XG4gIGlkOiB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gIH0sXG5cbiAgdGl0bGU6IHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICB9LFxuXG4gIHR5cGU6IHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICB9LFxuXG4gIGRlc2NyaXB0aW9uOiB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgaXNSZXF1aXJlZDogdHJ1ZSxcbiAgfSxcblxuICBzdGF0dXM6IHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyB0YXNrU3RhdHVzZXMgfSBmcm9tICcuL3Rhc2svY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlSWQgPSAoKSA9PiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG5cbmV4cG9ydCBjb25zdCBjYXBpdGFsaXplID0gc3RyID0+IHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcblxuZXhwb3J0IGNvbnN0IGNvdW50QWN0aXZlVGFza3MgPSB0YXNrcyA9PiB0YXNrcy5yZWR1Y2UoXG4gIChwcmV2LCB7IHN0YXR1cyB9KSA9PiBzdGF0dXMgIT09ICdjb21wbGV0ZWQnID8gcHJldiArIDEgOiBwcmV2LCAwKTtcblxuZXhwb3J0IGNvbnN0IGRlYm91bmNlID0gKGZ1bmMsIGRlbGF5ID0gMzAwKSA9PiB7XG4gIGxldCB0aW1lcklkO1xuXG4gIHJldHVybiBkYXRhID0+IHtcbiAgICBpZiAodGltZXJJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cblxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KCgpID0+IGZ1bmMoZGF0YSksIGRlbGF5KTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wYXJlVGFza3MgPSAoYSwgYikgPT4ge1xuICBpZiAoYS51cGRhdGVkQXQgPCBiLnVwZGF0ZWRBdCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGEudXBkYXRlZEF0ID09PSBiLnVwZGF0ZWRBdCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufTtcblxuZXhwb3J0IGNvbnN0IHNvcnRUYXNrcyA9IHRhc2tzQXJyID0+IHtcbiAgY29uc3Qgb3BlbmVkVGFza3MgPSBbXTtcbiAgY29uc3QgY29tcGxpdGVkVGFza3MgPSBbXTtcblxuICB0YXNrc0Fyci5mb3JFYWNoKHRhc2sgPT4ge1xuICAgIGlmICh0YXNrLnN0YXR1cyA9PT0gdGFza1N0YXR1c2VzLmNvbXBsZXRlZCkge1xuICAgICAgY29tcGxpdGVkVGFza3MucHVzaCh0YXNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbmVkVGFza3MucHVzaCh0YXNrKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiAgWy4uLm9wZW5lZFRhc2tzLnNvcnQoY29tcGFyZVRhc2tzKSwgLi4uY29tcGxpdGVkVGFza3Muc29ydChjb21wYXJlVGFza3MpXTtcbn07XG5cblxuIiwiaW1wb3J0IHN0b3JhZ2VTZXJ2aWNlIGZyb20gJy4uL2xvY2FsU3RvcmFnZS9sb2NhbFN0b3JhZ2VTZXJ2aWNlJztcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyB0YXNrU2NoZW1hLCB0YXNrU3RhdHVzZXMsIHNhdmVBY3Rpb24gfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNsYXNzIFRhc2sge1xuICBjb25zdHJ1Y3RvciAoeyBpZCwgdGl0bGUsIHR5cGUsIGRlc2NyaXB0aW9uLCBzdGF0dXMgPSB0YXNrU3RhdHVzZXMub3BlbmVkIH0pIHtcbiAgICB0aGlzLnRhc2tPYmogPSB7XG4gICAgICBpZDogaWQgfHwgZ2VuZXJhdGVJZCgpLFxuICAgICAgdGl0bGUsXG4gICAgICB0eXBlLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBzdGF0dXMsXG4gICAgfTtcblxuICAgIHRoaXMuc2F2ZUFjdGlvbiA9IGlkID8gc2F2ZUFjdGlvbi51cGRhdGUgOiBzYXZlQWN0aW9uLmNyZWF0ZTtcbiAgfVxuXG4gIHNhdmUgKCkge1xuICAgIGNvbnN0IHRhc2tzID0gc3RvcmFnZVNlcnZpY2UuZ2V0KCk7XG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBjb25zdCB0YXNrID0geyAuLi50aGlzLnRhc2tPYmosIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0LmVycm9yKSAge1xuICAgICAgICByZXR1cm4gcmVqZWN0KHZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuc2F2ZUFjdGlvbiA9PT0gc2F2ZUFjdGlvbi5jcmVhdGUpIHtcbiAgICAgICAgICB0YXNrcy5wdXNoKHRhc2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHRhc2tzLmZpbmRJbmRleCgoeyBpZCB9KSA9PiBpZCA9PT0gdGFzay5pZCk7XG4gICAgICAgICAgdGFza3NbdGFza0luZGV4XSA9IHRhc2s7XG4gICAgICAgIH1cblxuICAgICAgICBzdG9yYWdlU2VydmljZS5zZXQodGFza3MpO1xuICAgICAgICByZXNvbHZlKHsgdGFzayB9KTtcbiAgICAgIH0gICAgICBcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyByZW1vdmUgKHRhc2tJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkgeyAgICBcbiAgICAgICAgY29uc3QgdGFza3MgPSBzdG9yYWdlU2VydmljZS5nZXQoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza3MgPSB0YXNrcy5maWx0ZXIoKHsgaWQgfSkgPT4gaWQgIT09IHRhc2tJZCk7IFxuICAgICAgICAgIFxuICAgICAgICBzdG9yYWdlU2VydmljZS5zZXQobmV3VGFza3MpO1xuICAgICAgICByZXNvbHZlKG5ld1Rhc2tzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgcmVtb3ZlQWxsICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHsgICAgICAgIFxuICAgICAgICBzdG9yYWdlU2VydmljZS5jbGVhcigpO1xuICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuXG5cbiAgc3RhdGljIGZpbmlzaEFsbCAoKSB7ICAgIFxuICAgIGNvbnN0IHRhc2tzID0gc3RvcmFnZVNlcnZpY2UuZ2V0KCk7XG4gICAgY29uc3Qgc2F2ZVByb21pc2VzID0gdGFza3MubWFwKHRhc2sgPT4ge1xuICAgICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKHtcbiAgICAgICAgLi4udGFzayxcbiAgICAgICAgc3RhdHVzOiB0YXNrU3RhdHVzZXMuY29tcGxldGVkLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBuZXdUYXNrLnNhdmUoKTsgICAgICAgICAgICBcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChzYXZlUHJvbWlzZXMpO1xuICB9XG5cblxuICBzdGF0aWMgdmFsaWRhdGVGaWVsZCAobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoXG4gICAgICAodGFza1NjaGVtYVtuYW1lXS5pc1JlcXVpcmVkICYmICF2YWx1ZS50cmltKCkpXG4gICAgICB8fCB0eXBlb2YgdmFsdWUgIT09IHRhc2tTY2hlbWFbbmFtZV0udHlwZVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFsaWRhdGUgKCkge1xuICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB7XG4gICAgICBub3RWYWxpZEZpZWxkczoge30sXG4gICAgfTtcblxuICAgIE9iamVjdC5rZXlzKHRhc2tTY2hlbWEpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBUYXNrLnZhbGlkYXRlRmllbGQoZmllbGROYW1lLCB0aGlzLnRhc2tPYmpbZmllbGROYW1lXSk7XG5cbiAgICAgIHZhbGlkYXRpb25SZXN1bHQubm90VmFsaWRGaWVsZHNbZmllbGROYW1lXSA9IGlzVmFsaWQ7XG5cbiAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LmVycm9yID0gdHJ1ZTtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXNzYWdlID0gJ05vdCB2YWxpZCBmaWVsZCc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXNrO1xuIiwiZXhwb3J0IGNvbnN0IGFsZXJ0VHlwZXMgPSB7XG4gIGVycm9yOiAnZXJyb3InLFxuICBzdWNjZXNzOiAnc3VjY2VzcycsXG59O1xuXG5leHBvcnQgY29uc3QgYWxlcnRDbGFzc2VzID0ge1xuICBbYWxlcnRUeXBlcy5lcnJvcl06ICdlcnJvci1tZXNzYWdlJyxcbiAgW2FsZXJ0VHlwZXMuc3VjY2Vzc106ICdzdWNjZXNzLW1lc3NhZ2UnLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTaG93aW5nRHVyYXRpb24gPSAyMDAwOyIsImltcG9ydCB7IGFsZXJ0VHlwZXMsIGFsZXJ0Q2xhc3NlcywgZGVmYXVsdFNob3dpbmdEdXJhdGlvbiB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG5cbmNsYXNzIEFsZXJ0IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgdGhpcy5zaG93RXJyb3IgPSB0aGlzLnNob3dFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGlkZU1lc3NhZ2UgPSB0aGlzLmhpZGVNZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGVNZXNzYWdlRWxlbWVudCA9IHRoaXMuY3JlYXRlTWVzc2FnZUVsZW1lbnQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGluaXQgKCkge1xuICAgIGNvbnN0ICRtb3VudFBvaW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpO1xuICAgIGNvbnN0ICRhbGVydEJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAkYWxlcnRCbG9jay5jbGFzc05hbWUgPSAnYWxlcnQtY29udGFpbmVyJztcbiAgICAkYWxlcnRCbG9jay5pZCA9ICdhbGVydC1jb250YWluZXInO1xuXG4gICAgJG1vdW50UG9pbnQuYXBwZW5kQ2hpbGQoJGFsZXJ0QmxvY2spO1xuXG4gICAgdGhpcy4kbWFpbkJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsZXJ0LWNvbnRhaW5lcicpO1xuICB9XG5cbiAgc2hvd0Vycm9yICh7IG1lc3NhZ2UgfSwgZHVyYXRpb24gPSBkZWZhdWx0U2hvd2luZ0R1cmF0aW9uKSB7XG4gICAgY29uc3QgJGVsZW1lbnQgPSB0aGlzLmNyZWF0ZU1lc3NhZ2VFbGVtZW50KGFsZXJ0VHlwZXMuZXJyb3IsIG1lc3NhZ2UpO1xuICAgIHRoaXMuJG1haW5CbG9jay5hcHBlbmRDaGlsZCgkZWxlbWVudCk7XG5cblxuICAgIHNldFRpbWVvdXQodGhpcy5oaWRlTWVzc2FnZSgkZWxlbWVudCksIGR1cmF0aW9uKTtcbiAgfVxuXG4gIHNob3dTdWNjZXNzIChtZXNzYWdlLCBkdXJhdGlvbiA9IGRlZmF1bHRTaG93aW5nRHVyYXRpb24pIHtcbiAgICBjb25zdCAkZWxlbWVudCA9IHRoaXMuY3JlYXRlTWVzc2FnZUVsZW1lbnQoYWxlcnRUeXBlcy5zdWNjZXNzLCBtZXNzYWdlKTtcbiAgICB0aGlzLiRtYWluQmxvY2suYXBwZW5kQ2hpbGQoJGVsZW1lbnQpO1xuXG4gICAgc2V0VGltZW91dCh0aGlzLmhpZGVNZXNzYWdlKCRlbGVtZW50KSwgZHVyYXRpb24pO1xuICB9XG5cbiAgaGlkZU1lc3NhZ2UgKCRlbGVtZW50KSB7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuJG1haW5CbG9jay5yZW1vdmVDaGlsZCgkZWxlbWVudCk7XG4gIH1cblxuICBjcmVhdGVNZXNzYWdlRWxlbWVudCAodHlwZSwgbWVzc2FnZSkge1xuICAgIGNvbnN0ICRtZXNzYWdlQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICRtZXNzYWdlQmxvY2suY2xhc3NOYW1lID0gYCR7YWxlcnRDbGFzc2VzW3R5cGVdfSBhbGVydC1jb250YWluZXJfX21lc3NhZ2VgO1xuICAgICRtZXNzYWdlQmxvY2suaW5uZXJIVE1MID0gbWVzc2FnZTtcblxuICAgIHJldHVybiAkbWVzc2FnZUJsb2NrO1xuICB9XG59XG5cbmNvbnN0IGFsZXJ0U2VydmljZSA9IG5ldyBBbGVydCgpO1xuXG5leHBvcnQgZGVmYXVsdCBhbGVydFNlcnZpY2U7IiwiaW1wb3J0IFRhc2sgZnJvbSAnLi4vdGFzay90YXNrJztcbmltcG9ydCB7IHRhc2tUeXBlcyB9IGZyb20gJy4uL3Rhc2svY29uc3RhbnRzJztcbmltcG9ydCBhbGVydFNlcnZpY2UgZnJvbSAnLi4vYWxlcnQvYWxlcnQnO1xuXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5cbmNvbnN0IEVSUk9SX0NMQVNTX05BTUUgPSAndmFsaWRhdGlvbi1lcnJvcic7XG5cbmNsYXNzIEZvcm1Nb2RhbCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLiRyb290Q29tcG9uZW50ID0gbnVsbDtcblxuICAgIHRoaXMuaW5pdE1vZGFsID0gdGhpcy5pbml0TW9kYWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2F2ZUZvcm0gPSB0aGlzLnNhdmVGb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGVUYXNrRm9ybSA9IHRoaXMuY3JlYXRlVGFza0Zvcm0uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSW5wdXRLZXlVcCA9IHRoaXMub25JbnB1dEtleVVwLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmluaXRNb2RhbCgpO1xuICAgIHRoaXMuaW5pdEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBpbml0TW9kYWwgKCkge1xuICAgIGNvbnN0ICRtYWluQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG4gICAgY29uc3QgJG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAkbW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsJztcbiAgICAkbW9kYWwuaWQgPSAnZm9ybS1tb2RhbCc7XG4gICAgJG1vZGFsLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8c3BhbiBpZD1cIm1vZGFsLWNsb3NlXCIgY2xhc3M9XCJjbG9zZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPGgyIGlkPVwibW9kYWwtdGl0bGVcIiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+TW9kYWwgdGl0bGU8L2gyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIm1vZGFsLWJvZHlcIiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gaWQ9XCJmb3JtLW1vZGFsLXNhdmVcIiBjbGFzcz1cImJ1dHRvblwiPlNhdmU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgYDtcblxuICAgICRtYWluQmxvY2suYXBwZW5kQ2hpbGQoJG1vZGFsKTtcblxuICAgIHRoaXMuJHJvb3RDb21wb25lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1tb2RhbCcpO1xuICB9XG5cbiAgaW5pdEV2ZW50TGlzdGVuZXJzICgpIHtcbiAgICBjb25zdCAkY2xvc2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtY2xvc2UnKTtcbiAgICBjb25zdCAkc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLW1vZGFsLXNhdmUnKTtcblxuICAgICRjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgICRzYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zYXZlRm9ybSk7XG4gIH1cblxuICBjcmVhdGVUYXNrRm9ybSAodGFzayA9IHt9KSB7XG4gICAgY29uc3QgeyBpZCA9ICcnLCB0aXRsZSA9ICcnLCBkZXNjcmlwdGlvbiA9ICcnLCBzdGF0dXMgPSAnJyB9ID0gdGFzaztcbiAgICBjb25zdCAkbW9kYWxCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWJvZHknKTtcbiAgICBjb25zdCAkdHlwZXNCbG9jayA9IHRoaXMuY3JlYXRlVHlwZXNTZWxlY3QodGFzayk7XG5cbiAgICBjb25zdCAkZm9ybUJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICRmb3JtQmxvY2suY2xhc3NOYW1lID0gJ3Rhc2stZm9ybSc7XG4gICAgJGZvcm1CbG9jay5pZCA9ICd0YXNrLWZvcm0nO1xuICAgICRmb3JtQmxvY2suaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cInRpdGxlXCI+VGl0bGU8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0taW5wdXRcIiBpZD1cInRpdGxlXCIgXG4gICAgICAgICAgbmFtZT1cInRpdGxlXCIgcGxhY2Vob2xkZXI9XCJFbnRlciB0aXRsZVwiIHZhbHVlPSR7dGl0bGV9PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiZGVzY3JpcHRpb25cIj5EZXNjcmlwdGlvbjwvbGFiZWw+XG4gICAgICAgIDx0ZXh0YXJlYSByb3dzPVwiNFwiIGNvbHM9XCIxMDBcIiBuYW1lPVwiZGVzY3JpcHRpb25cIiBmb3JtPVwidGFzay1mb3JtXCIgXG4gICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCIgaWQ9XCJkZXNjcmlwdGlvblwiPlxuICAgICAgICAgICR7ZGVzY3JpcHRpb259XG4gICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgICRmb3JtQmxvY2suYXBwZW5kQ2hpbGQoJHR5cGVzQmxvY2spO1xuXG4gICAgaWYgKGlkKSB7XG4gICAgICBjb25zdCAkaWRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICAgICRpZElucHV0LnR5cGUgPSAnaGlkZGVuJztcbiAgICAgICRpZElucHV0LmNsYXNzTmFtZSA9ICd0YXNrLWlkJztcbiAgICAgICRpZElucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBpZCk7XG4gICAgICAkaWRJbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnaWQnKTtcblxuICAgICAgJGZvcm1CbG9jay5hcHBlbmRDaGlsZCgkaWRJbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgY29uc3QgJHN0YXR1c0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgICAgJHN0YXR1c0lucHV0LnR5cGUgPSAnaGlkZGVuJztcbiAgICAgICRzdGF0dXNJbnB1dC5jbGFzc05hbWUgPSAndGFzay1zdGF0dXMnO1xuICAgICAgJHN0YXR1c0lucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBzdGF0dXMpO1xuICAgICAgJHN0YXR1c0lucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdzdGF0dXMnKTtcblxuICAgICAgJGZvcm1CbG9jay5hcHBlbmRDaGlsZCgkc3RhdHVzSW5wdXQpO1xuICAgIH1cblxuICAgIGlmICgkbW9kYWxCb2R5Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgJG1vZGFsQm9keS5maXJzdENoaWxkLnJlcGxhY2VXaXRoKCRmb3JtQmxvY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAkbW9kYWxCb2R5LmFwcGVuZENoaWxkKCRmb3JtQmxvY2spO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtJykuZWxlbWVudHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1JbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvcm1JbnB1dHNbaV0uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uSW5wdXRLZXlVcCk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlVHlwZXNTZWxlY3QgKHsgdHlwZSA9ICcnIH0pIHtcbiAgICBjb25zdCAkdHlwZXNCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICR0eXBlc0Jsb2NrLmNsYXNzTmFtZSA9ICdmb3JtLWdyb3VwJztcbiAgICAkdHlwZXNCbG9jay5pbm5lckhUTUwgPSBgXG4gICAgICA8bGFiZWwgZm9yPVwidHlwZVwiPlRhc2sgVHlwZTwvbGFiZWw+XG4gICAgYDtcblxuICAgIGNvbnN0ICRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAkc2VsZWN0LmNsYXNzTmFtZSA9ICdmb3JtLWNvbnRyb2wnO1xuICAgICRzZWxlY3Quc2V0QXR0cmlidXRlKCduYW1lJywgJ3R5cGUnKTtcblxuICAgIE9iamVjdC52YWx1ZXModGFza1R5cGVzKS5mb3JFYWNoKHRhc2tUeXBlID0+IHtcbiAgICAgIGNvbnN0ICRvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICRvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRhc2tUeXBlKTtcblxuICAgICAgaWYgKHRhc2tUeXBlID09PSB0eXBlKSB7XG4gICAgICAgICRvcHRpb24uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICAkb3B0aW9uLmlubmVySFRNTCA9IHRhc2tUeXBlO1xuICAgICAgJHNlbGVjdC5hcHBlbmRDaGlsZCgkb3B0aW9uKTtcbiAgICB9KTtcblxuICAgICR0eXBlc0Jsb2NrLmFwcGVuZENoaWxkKCRzZWxlY3QpO1xuXG4gICAgcmV0dXJuICR0eXBlc0Jsb2NrO1xuICB9XG5cbiAgb3BlbiAoY2FsbGJhY2ssICBkYXRhID0ge30pIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY29uc3QgJG1vZGFsVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtdGl0bGUnKTtcblxuICAgIGlmIChkYXRhLmlkKSB7XG4gICAgICAkbW9kYWxUaXRsZS5pbm5lckhUTUwgPSAnRWRpdCBUYXNrJztcbiAgICB9IGVsc2Uge1xuICAgICAgJG1vZGFsVGl0bGUuaW5uZXJIVE1MID0gJ0NyZWF0ZSBUYXNrJztcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZVRhc2tGb3JtKGRhdGEpO1xuXG4gICAgdGhpcy4kcm9vdENvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIGNsb3NlICgpIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLiRyb290Q29tcG9uZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBzYXZlRm9ybSAoKSB7XG4gICAgY29uc3QgdGFza0RhdGEgPSB7fTtcbiAgICBjb25zdCBmb3JtSW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZm9ybScpLmVsZW1lbnRzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtSW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBmb3JtSW5wdXRzW2ldO1xuICAgICAgdGFza0RhdGFbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCB0YXNrID0gbmV3IFRhc2sodGFza0RhdGEpO1xuICAgIHRhc2suc2F2ZSgpXG4gICAgICAudGhlbigoeyB0YXNrIH0pID0+IHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKHRhc2spO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc3QgeyBub3RWYWxpZEZpZWxkcyB9ID0gZXJyb3I7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtSW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBmb3JtSW5wdXRzW2ldO1xuXG4gICAgICAgICAgdGhpcy5oaWdobGlnaHRJbnB1dChmb3JtSW5wdXRzW2ldLCBub3RWYWxpZEZpZWxkc1tuYW1lXSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGFsZXJ0U2VydmljZS5zaG93RXJyb3IoZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cblxuICBvbklucHV0S2V5VXAgKHsgdGFyZ2V0IH0pIHtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSB0YXJnZXQ7XG4gICAgY29uc3QgaXNWYWxpZCA9IFRhc2sudmFsaWRhdGVGaWVsZChuYW1lLCB2YWx1ZSk7XG5cbiAgICB0aGlzLmhpZ2hsaWdodElucHV0KHRhcmdldCwgaXNWYWxpZCk7XG4gIH1cblxuICBoaWdobGlnaHRJbnB1dCAoJGlucHV0LCBpc1ZhbGlkKSB7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAkaW5wdXQuY2xhc3NMaXN0LmFkZChFUlJPUl9DTEFTU19OQU1FKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoRVJST1JfQ0xBU1NfTkFNRSk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG1vZGFsQ29udHJvbGxlciA9IG5ldyBGb3JtTW9kYWwoKTtcblxuZXhwb3J0IGRlZmF1bHQgbW9kYWxDb250cm9sbGVyO1xuIiwiaW1wb3J0IHsgdGFza1N0YXR1c2VzIH0gZnJvbSAnLi4vdGFzay9jb25zdGFudHMnO1xuXG5leHBvcnQgY29uc3QgbWFpbkFjdGlvbnNCbG9ja0lkID0gJ21haW4tcGFnZV9fYWN0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBjb3VudEJsb2NrSWQgPSAndGFza3MtY291bnQnO1xuXG5leHBvcnQgY29uc3QgbGlzdEJsb2NrSWQgPSAndGFza3MtbGlzdCc7XG5cbmV4cG9ydCBjb25zdCBhZGRCdXR0b25DbGFzcyA9ICdhZGQtdGFzayc7XG5leHBvcnQgY29uc3QgZmluaXNoQWxsQnV0dG9uQ2xhc3MgPSAnZmluaXNoLWFsbC10YXNrcyc7XG5leHBvcnQgY29uc3QgcmVtb3ZlQWxsQnV0dG9uQ2xhc3MgPSAncmVtb3ZlLWFsbC10YXNrcyc7XG5cbi8vIEZpbHRlcnMgYnV0dG9uc1xuZXhwb3J0IGNvbnN0IHRhc2tUeXBlU2VsZWN0SWQgPSAnZmlsdGVyc19fdGFzay10eXBlJztcbmV4cG9ydCBjb25zdCBpbnB1dEZpbHRlcklkID0gJ2ZpbHRlcnNfX3NlYXJjaCc7XG5leHBvcnQgY29uc3QgZmlsdGVyQnV0dG9uc0Jsb2NrSWQgPSAnZmlsdGVyc19fYnV0dG9ucyc7XG5leHBvcnQgY29uc3QgZmlsdGVyQnV0dG9uc0NsYXNzZXMgPSB7XG4gIC4uLnRhc2tTdGF0dXNlcyxcbiAgYWxsOiAnYWxsJyxcbn07XG4iLCJpbXBvcnQgbW9kYWxDb250cm9sbGVyIGZyb20gJy4uL21vZGFsL21vZGFsJztcbmltcG9ydCB7IGNhcGl0YWxpemUsIGRlYm91bmNlLCBjb3VudEFjdGl2ZVRhc2tzLCBzb3J0VGFza3MgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyB0YXNrU3RhdHVzZXMgfSBmcm9tICcuLi90YXNrL2NvbnN0YW50cyc7XG5pbXBvcnQgYWxlcnRTZXJ2aWNlIGZyb20gJy4uL2FsZXJ0L2FsZXJ0JztcbmltcG9ydCBUYXNrIGZyb20gJy4uL3Rhc2svdGFzayc7XG5pbXBvcnQge1xuICBtYWluQWN0aW9uc0Jsb2NrSWQsXG4gIGNvdW50QmxvY2tJZCxcbiAgbGlzdEJsb2NrSWQsXG4gIHRhc2tUeXBlU2VsZWN0SWQsXG4gIGlucHV0RmlsdGVySWQsXG4gIGFkZEJ1dHRvbkNsYXNzLFxuICBmaW5pc2hBbGxCdXR0b25DbGFzcyxcbiAgcmVtb3ZlQWxsQnV0dG9uQ2xhc3MsXG4gIGZpbHRlckJ1dHRvbnNCbG9ja0lkLFxuICBmaWx0ZXJCdXR0b25zQ2xhc3Nlcyxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuXG5jbGFzcyBUYXNrTGlzdCB7XG4gIGNvbnN0cnVjdG9yICh0YXNrcykge1xuICAgIHRoaXMudGFza3MgPSB0YXNrcztcblxuICAgIHRoaXMuZmlsdGVyc1N0YXRlID0ge1xuICAgICAgc3RhdHVzOiBmaWx0ZXJCdXR0b25zQ2xhc3Nlcy5hbGwsXG4gICAgICB0eXBlOiAnYWxsJyxcbiAgICAgIHRleHQ6ICcnLFxuICAgIH07XG5cbiAgICB0aGlzLmluaXRDb21tb25TdHJ1Y3R1cmUoKTtcblxuICAgIHRoaXMuJG1haW5BY3Rpb25zQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYWluQWN0aW9uc0Jsb2NrSWQpO1xuICAgIHRoaXMuJHRhc2tUeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFza1R5cGVTZWxlY3RJZCk7XG4gICAgdGhpcy4kaW5wdXRGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dEZpbHRlcklkKTtcbiAgICB0aGlzLiRmaWx0ZXJCdXR0b25zQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaWx0ZXJCdXR0b25zQmxvY2tJZCk7XG4gICAgdGhpcy4kbGlzdEJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGlzdEJsb2NrSWQpO1xuICAgIHRoaXMuJHRhc2tDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdW50QmxvY2tJZCk7XG5cbiAgICB0aGlzLm9uQ2xpY2tGaWx0ZXJCdXR0b25zID0gdGhpcy5vbkNsaWNrRmlsdGVyQnV0dG9ucy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VUeXBlID0gdGhpcy5vbkNoYW5nZVR5cGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSW5wdXQgPSB0aGlzLm9uSW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbmRlclRhc2tzID0gdGhpcy5yZW5kZXJUYXNrcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25UYXNrQ2hhbmdlID0gdGhpcy5vblRhc2tDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ3JlYXRlVGFzayA9IHRoaXMub25DcmVhdGVUYXNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm9uRWRpdFRhc2sgPSB0aGlzLm9uRWRpdFRhc2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xpY2tNYWluQWN0aW9ucyA9IHRoaXMub25DbGlja01haW5BY3Rpb25zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsaWNrRmlsdGVyQnV0dG9ucyA9IHRoaXMub25DbGlja0ZpbHRlckJ1dHRvbnMuYmluZCh0aGlzKTtcblxuICAgIHRoaXMucmVuZGVyVGFza3MoKTtcbiAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgaW5pdENvbW1vblN0cnVjdHVyZSAoKSB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHRoaXMuZmlsdGVyc1N0YXRlO1xuICAgIGNvbnN0ICRtYWluQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG4gICAgY29uc3QgJHRhc2tMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAkdGFza0xpc3QuY2xhc3NOYW1lID0gJ3Rhc2stbGlzdC1jb250YWluZXInO1xuICAgICR0YXNrTGlzdC5pZCA9ICd0YXNrLWxpc3QtY29udGFpbmVyJztcbiAgICAkdGFza0xpc3QuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBpZD0ke21haW5BY3Rpb25zQmxvY2tJZH0gY2xhc3M9JHttYWluQWN0aW9uc0Jsb2NrSWR9PlxuXHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gJHthZGRCdXR0b25DbGFzc31cIj5BZGQ8L2J1dHRvbj5cblx0XHQ8YnV0dG9uIGNsYXNzPVwiYnV0dG9uICR7ZmluaXNoQWxsQnV0dG9uQ2xhc3N9XCI+RmluaXNoIGFsbDwvYnV0dG9uPlxuXHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gJHtyZW1vdmVBbGxCdXR0b25DbGFzc31cIj5SZW1vdmUgYWxsPC9idXR0b24+XG5cdDwvZGl2PlxuXG5cdDxkaXYgY2xhc3M9XCJmaWx0ZXJzXCI+XG5cdFx0PGRpdiBjbGFzcz1cImZpbHRlcnNfX3R5cGVzXCI+XG5cdFx0XHQ8c2VsZWN0IGNsYXNzPVwidGFzay10eXBlc1wiIGlkPSR7dGFza1R5cGVTZWxlY3RJZH0gbmFtZT1cInR5cGVcIj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYWxsXCI+XG4gICAgICAgICAgICBhbGxcbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibGVhcm5pbmdcIj5cbiAgICAgICAgICBcdGxlYXJuaW5nXG4gICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInNob3BwaW5nXCI+XG4gICAgICAgICAgICBzaG9wcGluZ1xuICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0cmF2ZWxpbmdcIj5cbiAgICAgICAgICAgIHRyYXZlbGluZ1xuICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzcG9ydFwiPlxuICAgICAgICAgICAgc3BvcnRcbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIFx0PHNwYW4gaWQ9XCJ0YXNrcy1jb3VudFwiIGNsYXNzPVwidGFza3MtY291bnRcIj4ke3RoaXMudGFza3MubGVuZ3RofSBUYXNrcyBsZWZ0PC9zcGFuPlxuXHRcdDwvZGl2PlxuXG5cdFx0PGRpdiBpZD0ke2ZpbHRlckJ1dHRvbnNCbG9ja0lkfSBjbGFzcz0ke2ZpbHRlckJ1dHRvbnNCbG9ja0lkfT5cblx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gJHtmaWx0ZXJCdXR0b25zQ2xhc3Nlcy5hbGx9IFxuICAgICAgICAgICR7c3RhdHVzID09PSBmaWx0ZXJCdXR0b25zQ2xhc3Nlcy5hbGwgPyAnYWN0aXZlJyA6ICcnfVwiXG4gICAgICA+QWxsPC9idXR0b24+XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnV0dG9uICR7ZmlsdGVyQnV0dG9uc0NsYXNzZXMub3BlbmVkfSBcbiAgICAgICAgICAke3N0YXR1cyA9PT0gZmlsdGVyQnV0dG9uc0NsYXNzZXMub3BlbmVkID8gJ2FjdGl2ZScgOiAnJ31cIlxuICAgICAgPk9wZW5lZDwvYnV0dG9uPlxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiAke2ZpbHRlckJ1dHRvbnNDbGFzc2VzLmNvbXBsZXRlZH0gXG4gICAgICAgICR7c3RhdHVzID09PSBmaWx0ZXJCdXR0b25zQ2xhc3Nlcy5jb21wbGV0ZWQgPyAnYWN0aXZlJyA6ICcnfVwiXG4gICAgICA+Q29tcGxldGVkPC9idXR0b24+XG5cdFx0PC9kaXY+XG5cdDwvZGl2PlxuXG5cdDxpbnB1dCBjbGFzcz1cInNlYXJjaFwiIHBsYWNlaG9sZGVyPVwic2VhcmNoXCIgaWQ9JHtpbnB1dEZpbHRlcklkfT5cblxuXHQ8ZGl2IGNsYXNzPSR7bGlzdEJsb2NrSWR9IGlkPSR7bGlzdEJsb2NrSWR9PlxuXHRcbiAgPC9kaXY+XG4gIGA7XG5cbiAgICAkbWFpbkJsb2NrLmFwcGVuZENoaWxkKCR0YXNrTGlzdCk7XG4gIH1cblxuICBpbml0RXZlbnRMaXN0ZW5lcnMgKCkge1xuICAgIHRoaXMuJG1haW5BY3Rpb25zQmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tNYWluQWN0aW9ucyk7XG4gICAgdGhpcy4kZmlsdGVyQnV0dG9uc0Jsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnY2xpY2snLFxuICAgICAgdGhpcy5vbkNsaWNrRmlsdGVyQnV0dG9ucyxcbiAgICApO1xuICAgIHRoaXMuJHRhc2tUeXBlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMub25DaGFuZ2VUeXBlKTtcbiAgICB0aGlzLiRpbnB1dEZpbHRlci5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGRlYm91bmNlKHRoaXMub25JbnB1dCkpO1xuICAgIHRoaXMuJGxpc3RCbG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25UYXNrQ2hhbmdlKTtcbiAgfVxuXG4gIGNyZWF0ZVRhc2tFbGVtZW50ICh7IGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIHN0YXR1cyB9KSB7XG4gICAgY29uc3QgJHRhc2tJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgJHRhc2tJdGVtLmNsYXNzTGlzdC5hZGQoJ3Rhc2staXRlbScsIHN0YXR1cyk7XG4gICAgJHRhc2tJdGVtLmlkID0gaWQ7XG5cbiAgICBjb25zdCAkY2hlY2tib3hCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgJGNoZWNrYm94QmxvY2suY2xhc3NOYW1lID0gJ2NoZWNrYm94LWNvbnRhaW5lcic7XG4gICAgY29uc3QgJGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAkY2hlY2tib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgc3RhdHVzID09PSBmaWx0ZXJCdXR0b25zQ2xhc3Nlcy5jb21wbGV0ZWQgJiZcbiAgICAkY2hlY2tib3guc2V0QXR0cmlidXRlKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgY29uc3QgJHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgJHNwYW4uY2xhc3NOYW1lID0gJ2NoZWNrbWFyayc7XG4gICAgJGNoZWNrYm94QmxvY2suYXBwZW5kQ2hpbGQoJGNoZWNrYm94KTtcbiAgICAkY2hlY2tib3hCbG9jay5hcHBlbmRDaGlsZCgkc3Bhbik7XG5cbiAgICBjb25zdCAkdGV4dEJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgJHRleHRCbG9jay5jbGFzc0xpc3QuYWRkKCd0YXNrLXRleHQnKTtcbiAgICAkdGV4dEJsb2NrLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhc2stdGV4dF9fdGl0bGVcIj4ke2NhcGl0YWxpemUodGl0bGUpfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFzay10ZXh0X19kZXNjcmlwdGlvblwiPiR7Y2FwaXRhbGl6ZShkZXNjcmlwdGlvbil9PC9kaXY+ICBcbiAgICAgIGA7XG5cbiAgICBjb25zdCAkYWN0aW9uc0Jsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgJGFjdGlvbnNCbG9jay5jbGFzc05hbWUgPSAndGFzay1hY3Rpb25zJztcbiAgICAkYWN0aW9uc0Jsb2NrLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1wZW5jaWwgdGFzay1hY3Rpb25zX19idXR0b24gdGFzay1hY3Rpb25zX19lZGl0XCI+PC9pPlxuICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXRyYXNoIHRhc2stYWN0aW9uc19fYnV0dG9uIHRhc2stYWN0aW9uc19fcmVtb3ZlXCI+PC9pPiBcbiAgICAgIGA7XG5cbiAgICAkdGFza0l0ZW0uYXBwZW5kQ2hpbGQoJGNoZWNrYm94QmxvY2spO1xuICAgICR0YXNrSXRlbS5hcHBlbmRDaGlsZCgkdGV4dEJsb2NrKTtcbiAgICAkdGFza0l0ZW0uYXBwZW5kQ2hpbGQoJGFjdGlvbnNCbG9jayk7XG5cbiAgICByZXR1cm4gJHRhc2tJdGVtO1xuICB9XG5cbiAgb25DbGlja01haW5BY3Rpb25zICh7IHRhcmdldCB9KSB7XG4gICAgY29uc3QgaXNCdXR0b24gPSB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidXR0b24nKTtcblxuICAgIGlmIChpc0J1dHRvbikge1xuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoYWRkQnV0dG9uQ2xhc3MpKSB7XG4gICAgICAgIG1vZGFsQ29udHJvbGxlci5vcGVuKHRoaXMub25DcmVhdGVUYXNrKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoZmluaXNoQWxsQnV0dG9uQ2xhc3MpKSB7XG4gICAgICAgIFRhc2suZmluaXNoQWxsKClcbiAgICAgICAgICAudGhlbihkYXRhID0+IGRhdGEubWFwKCh7IHRhc2sgfSkgPT4gdGFzaykpXG4gICAgICAgICAgLnRoZW4odGFza3MgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrcyA9IHRhc2tzO1xuICAgICAgICAgICAgdGhpcy4kbGlzdEJsb2NrLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXNrcygpO1xuXG4gICAgICAgICAgICBhbGVydFNlcnZpY2Uuc2hvd1N1Y2Nlc3MoJ0FsbCB0YXNrcyBzdWNjZWZ1bGx5IGNvbXBsaXRlZC4nKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMocmVtb3ZlQWxsQnV0dG9uQ2xhc3MpKSB7XG4gICAgICAgIFRhc2sucmVtb3ZlQWxsKClcbiAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrcyA9IHJlcztcbiAgICAgICAgICAgIHRoaXMuJGxpc3RCbG9jay5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFza3MoKTtcblxuICAgICAgICAgICAgYWxlcnRTZXJ2aWNlLnNob3dTdWNjZXNzKCdBbGwgdGFza3Mgc3VjY2VmdWxseSByZW1vdmVkLicpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGFsZXJ0U2VydmljZS5zaG93RXJyb3IpO1xuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25DcmVhdGVUYXNrICh0YXNrKSB7XG4gICAgdGhpcy4kbGlzdEJsb2NrLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcbiAgICB0aGlzLnJlbmRlclRhc2tzKCk7XG5cbiAgICBhbGVydFNlcnZpY2Uuc2hvd1N1Y2Nlc3MoJ1Rhc2sgc3VjY2VmdWxseSBjcmVhdGVkLicpO1xuICB9XG5cbiAgb25FZGl0VGFzayAoJHRhc2ssIHRhc2tJbmRleCkge1xuICAgIHJldHVybiB1cGRhdGVkVGFzayA9PiB7XG4gICAgICBjb25zdCAkbmV3VGFzayA9IHRoaXMuY3JlYXRlVGFza0VsZW1lbnQodXBkYXRlZFRhc2spO1xuXG4gICAgICB0aGlzLnRhc2tzW3Rhc2tJbmRleF0gPSB1cGRhdGVkVGFzaztcbiAgICAgIHRoaXMuJGxpc3RCbG9jay5yZXBsYWNlQ2hpbGQoJG5ld1Rhc2ssICR0YXNrKTtcblxuICAgICAgYWxlcnRTZXJ2aWNlLnNob3dTdWNjZXNzKCdUYXNrIHN1Y2NlZnVsbHkgdXBkYXRlZC4nKTtcbiAgICB9O1xuICB9XG5cbiAgb25DbGlja0ZpbHRlckJ1dHRvbnMgKHsgdGFyZ2V0IH0pIHtcbiAgICBjb25zdCByZXJlbmRlclRhc2tzID0gZmlsdGVyVmFsdWUgPT4ge1xuICAgICAgdGhpcy5maWx0ZXJzU3RhdGUuc3RhdHVzID0gZmlsdGVyVmFsdWU7XG4gICAgICB0aGlzLiRsaXN0QmxvY2suaW5uZXJIVE1MID0gJyc7XG4gICAgICB0aGlzLnJlbmRlclRhc2tzKCk7XG4gICAgfTtcbiAgICBjb25zdCBpc0J1dHRvbiA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGlzQ2xpY2tlZEFjdGl2ZUZpbHRlciA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXG4gICAgICB0aGlzLmZpbHRlcnNTdGF0ZS5idXR0b24pO1xuXG4gICAgaWYgKGlzQnV0dG9uICYmICFpc0NsaWNrZWRBY3RpdmVGaWx0ZXIpIHtcbiAgICAgIGNvbnN0ICRwcmV2QWN0aXZlRmlsdGVyID0gW10uZmluZC5jYWxsKFxuICAgICAgICB0YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlbixcbiAgICAgICAgZWxlbSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyksXG4gICAgICApO1xuICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBPYmplY3Qua2V5cyhmaWx0ZXJCdXR0b25zQ2xhc3NlcykuXG4gICAgICAgIGZpbmQodmFsdWUgPT4gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh2YWx1ZSkpO1xuXG4gICAgICAkcHJldkFjdGl2ZUZpbHRlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgZmlsdGVyVmFsdWUgJiYgcmVyZW5kZXJUYXNrcyhmaWx0ZXJWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2VUeXBlICh7IHRhcmdldDogeyB2YWx1ZSB9IH0pIHtcbiAgICB0aGlzLmZpbHRlcnNTdGF0ZS50eXBlID0gdmFsdWU7XG4gICAgdGhpcy4kbGlzdEJsb2NrLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMucmVuZGVyVGFza3MoKTtcbiAgfVxuXG4gIHVwZGF0ZUZpbHRlcnMgKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5maWx0ZXJzU3RhdGVbbmFtZV0gPSB2YWx1ZTtcbiAgICB0aGlzLiRsaXN0QmxvY2suaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5yZW5kZXJUYXNrcygpO1xuICB9XG5cbiAgb25JbnB1dCAoeyB0YXJnZXQgfSkge1xuICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LnZhbHVlLnRyaW0oKTtcbiAgICB0aGlzLnVwZGF0ZUZpbHRlcnMoJ3RleHQnLCB2YWx1ZSk7XG4gIH1cblxuICBvblRhc2tDaGFuZ2UgKHsgdGFyZ2V0IH0pIHtcbiAgICBjb25zdCB7IHRhc2tzIH0gPSB0aGlzO1xuICAgIGNvbnN0ICR0YXNrID0gdGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCB0YXNrSWQgPSAkdGFzay5pZDtcbiAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrcy5maW5kSW5kZXgoKHsgaWQgfSkgPT4gaWQgPT09IHRhc2tJZCk7XG4gICAgY29uc3QgdGFza0FjdGlvbnMgPSB7XG4gICAgICByZW1vdmU6IHtcbiAgICAgICAgaXNDdXJyZW50OiB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWFjdGlvbnNfX3JlbW92ZScpLFxuICAgICAgICBydW46ICgpID0+IHtcbiAgICAgICAgICBUYXNrLnJlbW92ZSh0YXNrSWQpXG4gICAgICAgICAgICAudGhlbihuZXdUYXNrcyA9PiB7XG4gICAgICAgICAgICAgIHRoaXMudGFza3MgPSBuZXdUYXNrcztcbiAgICAgICAgICAgICAgdGhpcy4kdGFza0NvdW50LmlubmVySFRNTCA9IGA8Yj4ke2NvdW50QWN0aXZlVGFza3MoXG4gICAgICAgICAgICAgICAgdGhpcy50YXNrcyl9PC9iPiBUYXNrcyBsZWZ0YDtcblxuICAgICAgICAgICAgICBpZiAobmV3VGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbGlzdEJsb2NrLnJlbW92ZUNoaWxkKCR0YXNrKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gYFlvdSBoYXZlbid0IGFueSAke3N0YXR1cyA9PT0gJ2FsbCcgPyAnJyA6IHN0YXR1c30gdGFza3MuYDtcbiAgICAgICAgICAgICAgICB0aGlzLiRsaXN0QmxvY2suaW5uZXJIVE1MID0gYDxoMiBjbGFzcz1cIm5vLXRhc2tzXCI+JHt0ZXh0fTwvaDI+YDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGFsZXJ0U2VydmljZS5zaG93U3VjY2VzcygnVGFzayBzdWNjZWZ1bGx5IHJlbW92ZWQuJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGFsZXJ0U2VydmljZS5zaG93RXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGVkaXQ6IHtcbiAgICAgICAgaXNDdXJyZW50OiB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWFjdGlvbnNfX2VkaXQnKSxcbiAgICAgICAgcnVuOiAoKSA9PiBtb2RhbENvbnRyb2xsZXIub3Blbih0aGlzLm9uRWRpdFRhc2soJHRhc2ssIHRhc2tJbmRleCksXG4gICAgICAgICAgdGFza3NbdGFza0luZGV4XSksXG4gICAgICB9LFxuICAgICAgY2hhbmdlU3RhdHVzOiB7XG4gICAgICAgIGlzQ3VycmVudDogdGFyZ2V0LnR5cGUgPT09ICdjaGVja2JveCcsXG4gICAgICAgIHJ1bjogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHRhcmdldC5jaGVja2VkO1xuICAgICAgICAgIGNvbnN0IHRhc2tPYmogPSB0aGlzLnRhc2tzW3Rhc2tJbmRleF07XG4gICAgICAgICAgY29uc3Qgc3RhdHVzID0gaXNDaGVja2VkID8gdGFza1N0YXR1c2VzLmNvbXBsZXRlZCA6IHRhc2tTdGF0dXNlcy5vcGVuZWQ7XG4gICAgICAgICAgY29uc3QgdGFzayA9IG5ldyBUYXNrKHsgLi4udGFza09iaiwgc3RhdHVzIH0pO1xuXG4gICAgICAgICAgdGFzay5zYXZlKClcbiAgICAgICAgICAgIC50aGVuKCh7IHRhc2sgfSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaXNDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgJHRhc2suY2xhc3NMaXN0LmFkZCh0YXNrU3RhdHVzZXMuY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAkdGFzay5jbGFzc0xpc3QucmVtb3ZlKHRhc2tTdGF0dXNlcy5vcGVuZWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICR0YXNrLmNsYXNzTGlzdC5yZW1vdmUodGFza1N0YXR1c2VzLmNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgJHRhc2suY2xhc3NMaXN0LmFkZCh0YXNrU3RhdHVzZXMub3BlbmVkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMudGFza3NbdGFza0luZGV4XSA9IHRhc2s7XG4gICAgICAgICAgICAgIHRoaXMuJGxpc3RCbG9jay5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXNrcygpO1xuXG4gICAgICAgICAgICAgIGFsZXJ0U2VydmljZS5zaG93U3VjY2VzcygnVGFzayBzdWNjZWZ1bGx5IHVwZGF0ZWQuJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGFsZXJ0U2VydmljZS5zaG93RXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgYWN0aW9uID0gT2JqZWN0LnZhbHVlcyh0YXNrQWN0aW9ucykuZmluZCgoeyBpc0N1cnJlbnQgfSkgPT4gaXNDdXJyZW50KTtcblxuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGFjdGlvbi5ydW4oKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJUYXNrcyAoKSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIHR5cGUsIHRleHQgfSA9IHRoaXMuZmlsdGVyc1N0YXRlO1xuICAgIGNvbnN0IGZpbHRlcmVkVGFza3MgPSB0aGlzLnRhc2tzXG4gICAgICAuZmlsdGVyKHRhc2sgPT4ge1xuICAgICAgICAvLyBGaW5kIHRhc2tzIHdoaWNoIHNhdGlzZnkgdGhlIGZpbHRlciBwYXJhbXNcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChzdGF0dXMgIT09ICdhbGwnICYmIHRhc2suc3RhdHVzICE9PSBzdGF0dXMpXG4gICAgICAgICAgfHwgKHR5cGUgIT09ICdhbGwnICYmIHRhc2sudHlwZSAhPT0gdHlwZSlcbiAgICAgICAgICB8fCAodGV4dCAmJiB0YXNrLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0ZXh0LnRvTG93ZXJDYXNlKCkpID09PSAtMVxuICAgICAgICAgICAgJiYgdGFzay5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dC50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgY29uc3QgdGFza3MgPSBzb3J0VGFza3MoZmlsdGVyZWRUYXNrcyk7XG5cbiAgICB0aGlzLiR0YXNrQ291bnQuaW5uZXJIVE1MID0gYDxiPiR7Y291bnRBY3RpdmVUYXNrcyhcbiAgICAgIHRoaXMudGFza3MpfTwvYj4gVGFza3MgbGVmdGA7XG5cbiAgICBpZiAodGFza3MubGVuZ3RoKSB7XG4gICAgICB0YXNrcy5mb3JFYWNoKHRhc2tPYmogPT4ge1xuICAgICAgICBjb25zdCAkdGFza0l0ZW0gPSB0aGlzLmNyZWF0ZVRhc2tFbGVtZW50KHRhc2tPYmopO1xuICAgICAgICB0aGlzLiRsaXN0QmxvY2suYXBwZW5kQ2hpbGQoJHRhc2tJdGVtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0ZXh0ID0gYFlvdSBoYXZlbid0IGFueSAke3N0YXR1cyA9PT0gJ2FsbCcgPyAnJyA6IHN0YXR1c30gdGFza3MuYDtcbiAgICAgIHRoaXMuJGxpc3RCbG9jay5pbm5lckhUTUwgPSBgPGgyIGNsYXNzPVwibm8tdGFza3NcIj4ke3RleHR9PC9oMj5gO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXNrTGlzdDtcbiIsImltcG9ydCBydW50aW1lIGZyb20gJ3NlcnZpY2V3b3JrZXItd2VicGFjay1wbHVnaW4vbGliL3J1bnRpbWUnO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTZXJ2aWNlV29ya2VyID0gKCkgPT4ge1xuICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgIHJ1bnRpbWUucmVnaXN0ZXIoKTtcbiAgfVxufTtcbiIsImltcG9ydCBzdG9yYWdlU2VydmljZSBmcm9tICcuL2xvY2FsU3RvcmFnZS9sb2NhbFN0b3JhZ2VTZXJ2aWNlJztcbmltcG9ydCBUYXNrTGlzdCBmcm9tICcuL3Rhc2tMaXN0L3Rhc2tMaXN0JztcbmltcG9ydCB7IHJlZ2lzdGVyU2VydmljZVdvcmtlciB9IGZyb20gJy4vc2VydmljZVdvcmtlci9yZWdpc3RlclNlcnZpY2VXb3JrZXInO1xuXG5pbXBvcnQgJy4vc3R5bGVzL2luZGV4LnNjc3MnO1xuXG5yZWdpc3RlclNlcnZpY2VXb3JrZXIoKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnN0IHRhc2tzID0gc3RvcmFnZVNlcnZpY2UuZ2V0KCk7XG5cbiAgbmV3IFRhc2tMaXN0KHRhc2tzKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDdFdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")}]);